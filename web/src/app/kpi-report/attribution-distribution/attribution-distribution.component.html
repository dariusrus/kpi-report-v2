<ng-container>
  <div class="report-title">
    Attribution Distribution
  </div>
  <div class="report-subtitle">
    {{ reportData.monthAndYear }}
  </div>
  <div class="report-data flex-grow-1" *ngIf="isVisible['leads']">
    <ng-container>
      <div class="performance-index-container">
        <div class="performance-index-items">
          <ng-container *ngIf="previousMonthIndex">
            <div class="performance-index-item-wrapper"
                 (mouseenter)="showTooltip('fromLastMonth')" (mouseleave)="hideAllTooltips()">
              <div class="performance-index-item">
                <div class="performance-index-value">
                  <i class="pi"
                     [class.pi-arrow-down]="previousMonthIndex < 0"
                     [class.pi-arrow-up]="previousMonthIndex > 0"
                  ></i> {{ SharedUtil.formatToPercentage(previousMonthIndex) }}
                </div>
                <div class="performance-index-description">
                  from Last Month
                </div>
              </div>
              <div class="index-custom-tooltip" *ngIf="fromLastMonthTooltip" [@dropIn]>
                  <span *ngIf="previousMonthIndex > 0">
                    <span class="font-bold">Increased by {{ SharedUtil.formatToPercentage(previousMonthIndex) }}</span> compared to last month’s lead valuation.
                  </span>
                <span *ngIf="previousMonthIndex < 0">
                    <span class="font-bold">Decreased by {{ SharedUtil.formatToPercentage(previousMonthIndex) }}</span> compared to last month’s lead valuation.
                  </span>
              </div>
            </div>
          </ng-container>
        </div>
      </div>
      <ngx-charts-area-chart
        [view]="view"
        [scheme]="'forest'"
        [results]="data"
        [legend]="true"
        [legendPosition]="LegendPosition.Right"
        [xAxis]="true"
        [yAxis]="true"
        [showXAxisLabel]="true"
        [showYAxisLabel]="true"
        [xAxisLabel]="xAxisLabel"
        [yAxisLabel]="yAxisLabel"
      >
      </ngx-charts-area-chart>
    </ng-container>
  </div>
</ng-container>
